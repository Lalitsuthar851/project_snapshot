from flask import Flask,request,render_template
import pytesseract
import cv2
app=Flask(__name__)

@app.route("/")
def main():
    return render_template("login.html")
@app.route("/upload",methods=['POST','GET'])
def upload2():
    if request.method=='POST':
        file=request.files['file1']
        filename1=file.filename
        reco = "Text Recognized"
        print(filename1)
        image='/home/uadmin/PycharmProjects/text_recognization/images/'+filename1
        img = cv2.imread(image)
        img = cv2.resize(img, (600, 360))
        mytext=pytesseract.image_to_string(img)
    return render_template('output.html',data=mytext,images=filename1,recognize=reco)
@app.route("/upload4",methods=['POST','GET'])
def upload3():
    if request.method=='POST':
        file=request.files['file2']
        filename2=file.filename
        reco="text recognized"
        print(filename2)
        image='/home/uadmin/PycharmProjects/text_recognization/images/'+filename2
        img = cv2.imread(image)
        img = cv2.resize(img, (600, 360))
        mytext=pytesseract.image_to_string(img)
    return render_template('output.html',data=mytext,images=filename2,recognize=reco)





# cv2.imshow('Result', img)
# cv2.waitKey(0)
app.run(debug=True)
